const tips_timer = 15; //second

const tips = {
    60: [
        `"Can't Help Falling in Love" merupakan salah satu lagu Everlasting dan milik Elvis Presley yang paling populer.`,
        `"News of The World" milik Queen berisi 11 lagu everlasting meliputi "We Are The Champions" dan "We Will Rock You" `,
        `"Bohemian Rhapsody" merupakan mahakarya musik everlasting dari band Queen.`,
        `Dara Puspita terbentuk tahun 1964 di Surabaya menjadi band rock perempuan pertama di Indonesia.`,
        `Can't Help Falling In Love merupakan lagu everlasting dari penyanyi ikonik Elvis Presley`,
        `Vokalis The Rolling Stones adalah Mick Jagger, yang merupakan musikus rock, aktor, penulis lagu, produsen, dan pengusaha berkebangsaan Inggris.`,
        `The Rolling Stones adalah album studio debut oleh band rock Inggris The Rolling Stones.`,
        `Koes Ploes merupakan band asal Indonesia yang banyak karyanya terinspirasi dari grup band everlasting asal Ingris The Beatles`,
        `Bing Slamet, dikenal sebagai penyanyi dengan suara merdu dan karyanya yang abadi`,
        `Film Asrama Dara dirilis pada tahun 1958. Drama musikal ikonik yang masih bisa kita nikmati hingga saat ini`,
        `Film: "Tiga Dara" merupakan film komedi musikal pertama di Indonesia, menggabungkan unsur komedi, drama, dan musik.`,
        `Film Tiga Dara menceritakan tentang kisah lika-liku percintaan tiga orang saudari`,
        `Darah dan Doa bercerita tentang peperangan dan drama yang masih bisa kita nikmati hingga saat ini.`,
        `Chitra Dewi berperan sebagai Nunung, anak sulung dari tiga bersaudara dalam film "Tiga Dara". `,
        `Film Komedi Musikal Indonesia Pertama: "Tiga Dara" merupakan film komedi musikal pertama di Indonesia.`,
        `Asrama Dara (1958) menceritakan tentang kisah persahabatan, cinta, dan pencarian jati diri para mahasiswa di asrama`,
        `Chitra Dewi berperan sebagai Rahimah, dalam film everlasting Asrama Dara`,
        `Tiga Dara merupakan film everlasting yang berasal dari era 60an`,
        `Ira Maya Sopha dikenal sebagai aktris dan penyanyi multitalenta yang aktif sejak era 1960-an.`,
        `Usmar Ismail menjadi "Bapak Perfilman Nasional" atas jasanya membangun dunia perfilman Indonesia sejak awal kemerdekaan.`,
    ],
    70: [
        `Dirilis tahun 1977, "Badai Selatan"  salah satu album musik ikonik dan berpengaruh dalam sejarah musik Indonesia.`,
        `God Bless dikenal sebagai salah satu band rock everlasting Indonesia yang mempelopori musik dengan tema kritik sosial.`,
        `Lagu Diana merupakan lagu bertemakan dari cinta remaja dari Koes Plus`,
        `Ahmad Albar dikenal sebagai vokalis grup band everlasting God Bless. `,
        `"Rumah Kita" merupakan salah satu lagu paling ikonik dan everlasting dari God Bless.  `,
        `God Bless dikenal sebagai salah satu band rock everlasting Indonesia yang mempelopori musik dengan tema kritik sosial.`,
        `Panbers dibentuk tahun 1963 di Surabaya: Awalnya bernama "Pandjaitan Bersaudara" karena terdiri dari 4 kakak beradik.`,
        `Bimbo adalah grup musik asal Bandung, didirikan tahun 1966. Bimbo berisi tiga bersaudara Bimbo.`,
        `David Bowie merupakan ikon glam rock populer di era 70an, gayanya yang nyentrik masih teringat hingga saat ini`,
        `Judul "Kolam Susu" adalah lagu everlasting yang populer milik Koes Plus`,
        `Eddy D. Iskandar adalah sosok di balik film "Gita Cinta dari SMA" yang diadaptasi menjadi film "Galih dan Ratna"`,
        `Rano Karno adalah pemeran Galih dalam film Gita Cinta Dari SMA di tahun 1979`,
        `Yessy Gusman memerankan karakter Ratna dalam film "Galih dan Ratna" (1979) dan sekuelnya "Gita Cinta dari SMA" (1981).`,
        `Nur Afni Octavia memerankan tokoh utama wanita bernama Santi dalam film "Anak Jalanan".`,
        `Film ini mengisahkan tentan  kekuatan persahabatan dan perjuangan hidup anak-anak jalanan di Jakarta`,
        `"Barcelona" merupakan lagu everlasting dari penyanyi Fariz RM di era 70an yang masih bisa kita nikmati hingga saat ini`,
        `Adegan tersebut berasal dari film Benyamin Biang Kerok, saksikan cuplikannya di Ruang Rona`,
        `Benyamin Sueb menjadi aktor yang memiliki julukan "Si Biang Kerok". Benyamin Sueb juga merupakan ikon budaya Betawi.`,
        `Ali Topan Anak Jalanan merupakan film everlasting yang rilis di tahun 1977`,
        `Ali Topan Anak Jalanan mengisahkan tentang perjuangan seorang anak broken home di jalanan ibu kota`,
        `Roy Marten merupakan aktor everlasting dari era 70an yang memerankan film Badai Pasti Berlalu (1977)`,
        `Pemeran utama Badai Pasti Berlalu adalah Roy Marten, Christine Hakim, dan Slamet Rahardjo`,
        `Abang Pulang adalah film yang dibintangi oleh Benyamin Sueb, seorang aktor, penyanyi, dan komedian everlasting Indonesia.`,
    ],
    80: [
        `Michael Jackson, Ia terkenal sebagai the "King of Pop" dan memopulerkan gerakan "Moonwalk" yang menjadi ciri khasnya.`,
        `Bon Jovi merupakan penyanyi everlasting yang melahirkan banyak karya seperti lagu "Living on a Prayer"`,
        `Band rock God Bless menerima rekor MURI sebelum memulai acara Konser 50 Tahun pada 2021 lalu.`,
        `Gun's and Roses merupakan band yang merilis lagu berjudul "Sweet Child o'Mine" pada tahun 1987`,
        `Godbless merupakan group band rock yang mempopulerkan lagu berjudul Rumah Kita`,
        `ABBA adalah supergrup Swedia yang dibentuk di Stockholm pada tahun 1972 yang menjadi supergrup everlasting di era 80an`,
        `Madu dan Racun merupakan salah satu lagu populer milik Arie Wibowo`,
        `Crush merupakan album dari Bon Jovi yang berisi salah satu lagu everlasting yaitu It's My Life`,
        `Michael Jackson melakukan "tarian moonwalk" di acara televisi MoTown 25 saat menyanyikan lagu Billie Jean`,
        `Freddie Mercury merupakan vokalis dari band Queen`,
        `Andeca Andeci merupakan lagu yang dinyanyikan oleh Warkop DKI dalam film Mana Tahaaan...`,
        `Soundtrack film Damai Kami Sepanjang Hari dibawakan oleh penyanyi everlasting Iwan Fals`,
        `Rhoma Irama adalah seorang penyanyi, musikus, penulis lagu, produser dan aktor yang dijuluki Raja Dangdut`,
        `Pergilah Kasih merupakan salah satu lagu populer Chrisye yang bisa kita nikmati sampai saat ini`,
        `Warkop DKI, adalah sebuah grup lawak everlasting. Grup ini terdiri dari 3 orang personel yaitu Dono, Kasino, dan Indro`,
        `Adegan tersebut menampilkan Kasino dan Dono dari Warkop DKI yang sedang membawakan lagu Nyanyian Kode`,
        `Onky Alexander memerankan Boy dalam film Catatan Si Boy`,
        `"Catatan Si Boy" menceritakan tentang lika liku kehiudpan percintaan dan persahabatan seorang pemuda kaya raya`,
        `Tom Cruise memerankan karakter Maverick dalam Top Gun di tahun 1986`,
        `Pemeran utama Iwan dalam film Damai Kami Sepanjang Hari diperankan oleh Iwan Fals`,
        `Film Damai Kami Sepanjang Hari kisah cinta Iwan dan Tia yang saling membantu dan mendukung dalam menghadapi kesulitan. `,
        `Ghostbuster (1984) merupakan film yang menceritakan tentang para pemburu hantu yang berusaha menghentikan hantu`,
        `Dialog ikonik "Idih, Mas Boy!" berasal dari film Catatan Si Boy`,
        `Film pertama yang diperankan oleh Warkop DKI adalah Mana Tahaan yang dirilis tahun 1980`,
        `First Blood merupakan film ikonik yang diperankan Sylverster Stallone sebagai Rambo`,
        `Pemeran utama dalam film The Terminator adalah Arnold Schwarzenegger`,
        `Kalimat populer "Apa Kata Dunia?" berasal dari film Nagabonar`,
    ],
    90: [
        `"Risalah Hati" adalah salah satu lagu dari album "Bintang Lima" salah satu album terlaris Dewa 19.`,
        `Gambar itu menunjukkan band Jamrud, band everlasting dari era 90an`,
        `Kurt Cobain merupakan vokalis ikonik dari band Nirvana yang lagunya masih menyala dari waktu ke waktu`,
        `Lagu "Creep" dipopulerkan di tahun 1993 oleh band Radiohead yang hingga saat ini lagunya masih bisa dinikmati`,
        `Krisdayanti merupakan diva yang berasal di Indonesia, karyanya menyala abadi hingga saat ini`,
        `"Bento" dipopulerkan oleh penyanyi everlasting Iwan Fals `,
        `Nike Ardilla, sosok penyanyi yang menyala di era 90an, karyanya masih bisa kita nikmati hingga saat ini`,
        `Sheila On 7 menjadi band yang membawakan soundtrack film Lupus, salah satu lagu everlasting dari film ini adalah "Kita"`,
        `"Pelangi di Matamu" adalah lagu dari Jamrud di era 90an yang masih bisa kita nikmati hingga saat ini.`,
        `Snoop Dogg, ikon rap everlasting, terus memikat pendengar lintas generasi dengan lagu-lagunya yang ikonik.`,
        `"Terlalu Manis" merupakan lagu everlasting milik Slank yang hingga kini masih bisa dinikmati`,
        `Leonardo DiCaprio, seorang aktor ikonik dari era 90an yang memerankan Jack dalam film Titanic.`,
        `"My Heart Will Go On" lagu soundtrack film Titanic yang paling populer. Liriknya menggema abadi di kepala pendengar.`,
        `Film Forrest Gump adalah film inspirasional yang diperankan oleh Tom Hanks`,
        `Desi Ratnasari merupakan aktor everlasting yang memerankan film Olga Dan Sepatu Roda di era 90an`,
        `Band yang mengisi soundtrack film everlasting Kuldesak adalah Ahmad Band`,
        `Brad Pitt menjadi salah satu pemeran utama dalam film Fight Club yang masih sering ditonton hingga saat ini`,
        `Jurassic World bercerita tentang sebuah taman hiburan bertema dinosaurus. Filmnya menghasilkan banyak sequel dan remake.`,
        `Jumanji  menceritakan tentang permainan papan ajaib yang membawa pemainnya ke dunia petualangan berbahaya`,
        `Film Lupus merupakan film everlasting yang mengusung genre Drama Komedi`,
        `Olga Dan Sepatu Roda menceritakan tentang seorang gadis yang mengejar mimpinya, bertema keluarga dan persahabatan`,
    ],
    2000: [
        `"Kukatakan dengan Indah" adalah lagu dari grup musik Indonesia Peterpan`,
        `"Januari" merupakan lagu yang dipopulerkan oleh Glenn Fredly`,
        `Padi band everlasting dari era 2000an terkenal dengan lagunya yang berjudul "Kasih Tak Sampai" `,
        `"Dan" merupakan salah satu lagu populer milik band Sheila On 7`,
        `Melly Goeslaw adalah penyanyi pada album Ost Ada Apa Dengan Cinta `,
        `D'Masiv, band pop rock Indonesia dengan lagu "Cinta Ini Membunuhku" dan "Parah", memikat hati pendengar sejak 2003.`,
        `Chris Martin adalah musisi, penyanyi, penulis lagu, dan produser musik. Ia merupakan vokalis utama band Coldplay.`,
        `"In The End" dilantunkan grup musik Linkin Park. Lagu ini dirilis pada tahun 2000`,
        `Britney Spears mempopulerkan lagu "Oops.. I Did It Again" di tahun 2000 dan menjadi lagu era yang everlasting`,
        `"Berhenti Berharap" adalah OST 30 Hari Mencari Cinta yang dinyanyikan oleh Sheila On 7`,
        `Janji Joni merangkul 12 band indie Indonesia untuk mengisi soundtrack film`,
        `Janji Joni menceritakan kisah cinta seorang pengantar roll film, menjadi salah satu film everlasting dari era 2000an`,
        `Karakter Joni dalam film era 2000an Janji Joni diperankan oleh Nicholas Saputra`,
        `Ada Apa Dengan Cinta merupakan film drama romantis yang mengisahkan cerita cinta tentang Rangga dan Cinta`,
        `Lagu "Pupus" menceritakan tentang rasa patah hati karena kisah cinta yang bertepuk sebelah tangan`,
        `Mariana Renata merupakan pemeran Angelique dalam film Janji Joni`,
        `Film-film yang diperankan Nicholas Saputra antara lain Ada Apa Dengan Cinta, Janji Joni, dan 30 Hari Untuk Selamanya`,
        `Ada Apa Dengan Cinta ikonik dengan dialog "Jadi salah gue? Salah temen-temen gue?" dan "Pecahkan saja gelasnya! biar ramai"`,
        `Vino G Bastian memerankann karakter utama Erik dalam film 30 Hari Mencari Cinta`,
        `Eiffel I'm in Love sebagian besar berlangsung di negara Prancis tepatnya di ibu kota Paris tempat menara Eiffel berada`,
        `Film Ada Apa Dengan Cinta rilis pada tanggal 8 Februari 2002`,
    ],
};

var isTipShowen = false;

function shuffleTips(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function startShowTips(theme, callback, progressCallback) {
    if (isTipShowen) return;

    var themeTips = tips[theme];
    shuffleTips(themeTips);
    const currentTips = themeTips.slice(0, 3);
    const timeDelay = (1000 * tips_timer) / currentTips.length;

    const coroutineTime = 100;
    const coroutineTimeMax = 1000 * tips_timer;
    var coroutineTimeProgress = 0;

    var enumerator = setInterval(() => {
        coroutineTimeProgress += coroutineTime;
        if (coroutineTimeProgress >= coroutineTimeMax) {
            clearInterval(enumerator);
            callback("complete");
        }

        var progress = (coroutineTimeProgress / coroutineTimeMax).toFixed(2);
        progressCallback(progress);
    }, coroutineTime);

    console.log("DELAY: " + timeDelay);

    loopWithDelay(0, currentTips, timeDelay, (currentIndex) => {
        callback(currentTips[currentIndex]);
    });

    isTipShowen = true;
}

function loopWithDelay(index, items, delay, callback) {
    if (index >= items.length) {
        return;
    }

    callback(index);
    setTimeout(() => {
        loopWithDelay(index + 1, items, delay, callback); // Call recursively with the next index after delay
    }, delay);
}

function startShowTipsCustomData(data, callback, progressCallback) {
    if (isTipShowen) return;

    var themeTips = data;
    shuffleTips(themeTips);
    const currentTips = themeTips.slice(0, 3);
    const timeDelay = (1000 * tips_timer) / currentTips.length;

    const coroutineTime = 100;
    const coroutineTimeMax = 1000 * tips_timer;
    var coroutineTimeProgress = 0;

    var enumerator = setInterval(() => {
        coroutineTimeProgress += coroutineTime;
        if (coroutineTimeProgress >= coroutineTimeMax) {
            clearInterval(enumerator);
            callback("complete");
        }

        var progress = (coroutineTimeProgress / coroutineTimeMax).toFixed(2);
        progressCallback(progress);
    }, coroutineTime);

    console.log("DELAY: " + timeDelay);

    loopWithDelay(0, currentTips, timeDelay, (currentIndex) => {
        callback(currentTips[currentIndex]);
    });

    isTipShowen = true;
}

function loopWithDelay(index, items, delay, callback) {
    if (index >= items.length) {
        return;
    }

    callback(index);
    setTimeout(() => {
        loopWithDelay(index + 1, items, delay, callback); // Call recursively with the next index after delay
    }, delay);
}
